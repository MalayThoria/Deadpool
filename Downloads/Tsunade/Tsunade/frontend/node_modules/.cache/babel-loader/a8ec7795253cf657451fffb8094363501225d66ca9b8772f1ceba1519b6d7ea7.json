{"ast":null,"code":"import React from'react';import{motion}from'framer-motion';import{Lock,LogIn,UserPlus}from'lucide-react';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children,fallback,showAuthPrompt=true}=_ref;const{isAuthenticated,loading}=useAuth();// Show loading spinner while checking authentication\nif(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-[400px]\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Loading...\"})]})});}// If authenticated, render the protected content\nif(isAuthenticated){return children;}// If a custom fallback is provided, use it\nif(fallback){return fallback;}// Default authentication prompt\nif(showAuthPrompt){return/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:\"flex items-center justify-center min-h-[400px] p-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center max-w-md mx-auto\",children:[/*#__PURE__*/_jsx(motion.div,{initial:{scale:0},animate:{scale:1},transition:{delay:0.2},className:\"w-16 h-16 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-full flex items-center justify-center mx-auto mb-6\",children:/*#__PURE__*/_jsx(Lock,{className:\"w-8 h-8 text-white\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-900 dark:text-white mb-4\",children:\"Authentication Required\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 mb-8\",children:\"Please sign in to access this feature and view your personalized health data.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(motion.button,{whileHover:{scale:1.05},whileTap:{scale:0.95},onClick:()=>{// This will be handled by the parent component\nconst event=new CustomEvent('openAuthModal',{detail:{mode:'login'}});window.dispatchEvent(event);},className:\"w-full bg-gradient-to-r from-primary-500 to-secondary-500 text-white py-3 px-6 rounded-lg font-medium hover:from-primary-600 hover:to-secondary-600 transition-all flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(LogIn,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Sign In\"})]}),/*#__PURE__*/_jsxs(motion.button,{whileHover:{scale:1.05},whileTap:{scale:0.95},onClick:()=>{// This will be handled by the parent component\nconst event=new CustomEvent('openAuthModal',{detail:{mode:'register'}});window.dispatchEvent(event);},className:\"w-full border-2 border-primary-500 text-primary-500 py-3 px-6 rounded-lg font-medium hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-all flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(UserPlus,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Create Account\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 text-sm text-gray-500 dark:text-gray-400\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Your data is secure and private.\"})})]})});}// If showAuthPrompt is false, return null (hide the content)\nreturn null;};export default ProtectedRoute;","map":{"version":3,"names":["React","motion","Lock","LogIn","UserPlus","useAuth","jsx","_jsx","jsxs","_jsxs","ProtectedRoute","_ref","children","fallback","showAuthPrompt","isAuthenticated","loading","className","div","initial","opacity","y","animate","scale","transition","delay","button","whileHover","whileTap","onClick","event","CustomEvent","detail","mode","window","dispatchEvent"],"sources":["C:/Users/Admin/Downloads/Tsunade/Tsunade/frontend/src/components/ProtectedRoute.jsx"],"sourcesContent":["import React from 'react';\nimport { motion } from 'framer-motion';\nimport { Lock, LogIn, UserPlus } from 'lucide-react';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst ProtectedRoute = ({ children, fallback, showAuthPrompt = true }) => {\n  const { isAuthenticated, loading } = useAuth();\n\n  // Show loading spinner while checking authentication\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[400px]\">\n        <div className=\"text-center\">\n          <div className=\"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin mx-auto mb-4\" />\n          <p className=\"text-gray-600 dark:text-gray-400\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // If authenticated, render the protected content\n  if (isAuthenticated) {\n    return children;\n  }\n\n  // If a custom fallback is provided, use it\n  if (fallback) {\n    return fallback;\n  }\n\n  // Default authentication prompt\n  if (showAuthPrompt) {\n    return (\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"flex items-center justify-center min-h-[400px] p-8\"\n      >\n        <div className=\"text-center max-w-md mx-auto\">\n          <motion.div\n            initial={{ scale: 0 }}\n            animate={{ scale: 1 }}\n            transition={{ delay: 0.2 }}\n            className=\"w-16 h-16 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-full flex items-center justify-center mx-auto mb-6\"\n          >\n            <Lock className=\"w-8 h-8 text-white\" />\n          </motion.div>\n          \n          <h3 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-4\">\n            Authentication Required\n          </h3>\n          \n          <p className=\"text-gray-600 dark:text-gray-400 mb-8\">\n            Please sign in to access this feature and view your personalized health data.\n          </p>\n          \n          <div className=\"space-y-4\">\n            <motion.button\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              onClick={() => {\n                // This will be handled by the parent component\n                const event = new CustomEvent('openAuthModal', { detail: { mode: 'login' } });\n                window.dispatchEvent(event);\n              }}\n              className=\"w-full bg-gradient-to-r from-primary-500 to-secondary-500 text-white py-3 px-6 rounded-lg font-medium hover:from-primary-600 hover:to-secondary-600 transition-all flex items-center justify-center space-x-2\"\n            >\n              <LogIn className=\"w-5 h-5\" />\n              <span>Sign In</span>\n            </motion.button>\n            \n            <motion.button\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              onClick={() => {\n                // This will be handled by the parent component\n                const event = new CustomEvent('openAuthModal', { detail: { mode: 'register' } });\n                window.dispatchEvent(event);\n              }}\n              className=\"w-full border-2 border-primary-500 text-primary-500 py-3 px-6 rounded-lg font-medium hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-all flex items-center justify-center space-x-2\"\n            >\n              <UserPlus className=\"w-5 h-5\" />\n              <span>Create Account</span>\n            </motion.button>\n          </div>\n          \n          <div className=\"mt-6 text-sm text-gray-500 dark:text-gray-400\">\n            <p>Your data is secure and private.</p>\n          </div>\n        </div>\n      </motion.div>\n    );\n  }\n\n  // If showAuthPrompt is false, return null (hide the content)\n  return null;\n};\n\nexport default ProtectedRoute;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,MAAM,KAAQ,eAAe,CACtC,OAASC,IAAI,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,cAAc,CACpD,OAASC,OAAO,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElD,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAmD,IAAlD,CAAEC,QAAQ,CAAEC,QAAQ,CAAEC,cAAc,CAAG,IAAK,CAAC,CAAAH,IAAA,CACnE,KAAM,CAAEI,eAAe,CAAEC,OAAQ,CAAC,CAAGX,OAAO,CAAC,CAAC,CAE9C;AACA,GAAIW,OAAO,CAAE,CACX,mBACET,IAAA,QAAKU,SAAS,CAAC,gDAAgD,CAAAL,QAAA,cAC7DH,KAAA,QAAKQ,SAAS,CAAC,aAAa,CAAAL,QAAA,eAC1BL,IAAA,QAAKU,SAAS,CAAC,iGAAiG,CAAE,CAAC,cACnHV,IAAA,MAAGU,SAAS,CAAC,kCAAkC,CAAAL,QAAA,CAAC,YAAU,CAAG,CAAC,EAC3D,CAAC,CACH,CAAC,CAEV,CAEA;AACA,GAAIG,eAAe,CAAE,CACnB,MAAO,CAAAH,QAAQ,CACjB,CAEA;AACA,GAAIC,QAAQ,CAAE,CACZ,MAAO,CAAAA,QAAQ,CACjB,CAEA;AACA,GAAIC,cAAc,CAAE,CAClB,mBACEP,IAAA,CAACN,MAAM,CAACiB,GAAG,EACTC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,EAAG,CAAE,CAC/BC,OAAO,CAAE,CAAEF,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAE,CAAE,CAC9BJ,SAAS,CAAC,oDAAoD,CAAAL,QAAA,cAE9DH,KAAA,QAAKQ,SAAS,CAAC,8BAA8B,CAAAL,QAAA,eAC3CL,IAAA,CAACN,MAAM,CAACiB,GAAG,EACTC,OAAO,CAAE,CAAEI,KAAK,CAAE,CAAE,CAAE,CACtBD,OAAO,CAAE,CAAEC,KAAK,CAAE,CAAE,CAAE,CACtBC,UAAU,CAAE,CAAEC,KAAK,CAAE,GAAI,CAAE,CAC3BR,SAAS,CAAC,yHAAyH,CAAAL,QAAA,cAEnIL,IAAA,CAACL,IAAI,EAACe,SAAS,CAAC,oBAAoB,CAAE,CAAC,CAC7B,CAAC,cAEbV,IAAA,OAAIU,SAAS,CAAC,uDAAuD,CAAAL,QAAA,CAAC,yBAEtE,CAAI,CAAC,cAELL,IAAA,MAAGU,SAAS,CAAC,uCAAuC,CAAAL,QAAA,CAAC,+EAErD,CAAG,CAAC,cAEJH,KAAA,QAAKQ,SAAS,CAAC,WAAW,CAAAL,QAAA,eACxBH,KAAA,CAACR,MAAM,CAACyB,MAAM,EACZC,UAAU,CAAE,CAAEJ,KAAK,CAAE,IAAK,CAAE,CAC5BK,QAAQ,CAAE,CAAEL,KAAK,CAAE,IAAK,CAAE,CAC1BM,OAAO,CAAEA,CAAA,GAAM,CACb;AACA,KAAM,CAAAC,KAAK,CAAG,GAAI,CAAAC,WAAW,CAAC,eAAe,CAAE,CAAEC,MAAM,CAAE,CAAEC,IAAI,CAAE,OAAQ,CAAE,CAAC,CAAC,CAC7EC,MAAM,CAACC,aAAa,CAACL,KAAK,CAAC,CAC7B,CAAE,CACFb,SAAS,CAAC,+MAA+M,CAAAL,QAAA,eAEzNL,IAAA,CAACJ,KAAK,EAACc,SAAS,CAAC,SAAS,CAAE,CAAC,cAC7BV,IAAA,SAAAK,QAAA,CAAM,SAAO,CAAM,CAAC,EACP,CAAC,cAEhBH,KAAA,CAACR,MAAM,CAACyB,MAAM,EACZC,UAAU,CAAE,CAAEJ,KAAK,CAAE,IAAK,CAAE,CAC5BK,QAAQ,CAAE,CAAEL,KAAK,CAAE,IAAK,CAAE,CAC1BM,OAAO,CAAEA,CAAA,GAAM,CACb;AACA,KAAM,CAAAC,KAAK,CAAG,GAAI,CAAAC,WAAW,CAAC,eAAe,CAAE,CAAEC,MAAM,CAAE,CAAEC,IAAI,CAAE,UAAW,CAAE,CAAC,CAAC,CAChFC,MAAM,CAACC,aAAa,CAACL,KAAK,CAAC,CAC7B,CAAE,CACFb,SAAS,CAAC,iMAAiM,CAAAL,QAAA,eAE3ML,IAAA,CAACH,QAAQ,EAACa,SAAS,CAAC,SAAS,CAAE,CAAC,cAChCV,IAAA,SAAAK,QAAA,CAAM,gBAAc,CAAM,CAAC,EACd,CAAC,EACb,CAAC,cAENL,IAAA,QAAKU,SAAS,CAAC,+CAA+C,CAAAL,QAAA,cAC5DL,IAAA,MAAAK,QAAA,CAAG,kCAAgC,CAAG,CAAC,CACpC,CAAC,EACH,CAAC,CACI,CAAC,CAEjB,CAEA;AACA,MAAO,KAAI,CACb,CAAC,CAED,cAAe,CAAAF,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}